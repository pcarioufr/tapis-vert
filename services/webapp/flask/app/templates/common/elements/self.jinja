    <!-- SELF ------ ------ ------ ------ -->

    <link rel="stylesheet" href="{{ url_for('static', filename='styles/elements/self.css') }}" />


    <!-- SelfFooterEntry -->

    <template id=t-self-footer-panel>
        <div class="self-footer-panel">
            <span class="title">me</span>
            <div class="ok_cookie" hoverable>cookie</div>
            <div class="login"hoverable>login</div>
            <div class="logout"hoverable>logout</div> 
            <div class="test"hoverable>test</div>
        </div>
    </template>

    <script>

    class SelfFooterEntry extends FooterEntry {

        constructor() {

            super( "left-entries" )
            this.panel = build("t-self-footer-panel")

            this.icon = "account-circle-line"
            this.name = "{{user_id}}"

            this.cookies = new Cookies()

            if (this.cookies.get("ok_cookie") == "yes") {
                this.footerPanel.tag("ok_cookie")
            }

            this.footerPanel.select(".ok_cookie").onclick = ( _ => {

                this.footerPanel.toggle("ok_cookie")

                this.cookies.get("ok_cookie") == "yes" ?
                    this.cookies.delete("ok_cookie")     :
                    this.cookies.set("ok_cookie", "yes") ;

            })

            this.footerPanel.select(".login").onclick = ( _ => {

                call('POST', '/auth/login', { user_id: "{{user_id}}" })
                .then( r => r.json() )
                .then( r => {                        
                    this.footerPanel.tag("logged")
                })

            })

            this.footerPanel.select(".logout").onclick = ( _ => {

                call('POST', '/auth/logout', { user_id: "{{user_id}}" })
                .then( r => r.json() )
                .then( r => {                        
                    this.footerPanel.untag("logged")
                })

            })

            this.footerPanel.select(".test").onclick = ( _ => {

                call('GET', '/auth/test')

            })


        }

        

    }
    </script>
